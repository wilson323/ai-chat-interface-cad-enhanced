---
alwaysApply: true
---
# APIåº“æ¶æ„è¯´æ˜

## å®¢æˆ·ç«¯æ¶æ„é‡æ„ï¼ˆ2025-01-23ï¼‰

### ğŸ¯ **ç»Ÿä¸€å®¢æˆ·ç«¯ç­–ç•¥**

ç»è¿‡åè„†å¼±æ¨¡å¼åˆ†æï¼ŒåŸæœ‰7ä¸ªé‡å¤å®¢æˆ·ç«¯å·²æ•´åˆä¸º3å±‚æ¶æ„ï¼š

#### 1. åŸºç¡€å±‚ - `fastgpt-client.ts`
- **èŒè´£**: åŸºç¡€FastGPT APIè°ƒç”¨
- **ç‰¹æ€§**: ç®€å•ã€å¯é ã€æ— ä¾èµ–
- **ä½¿ç”¨åœºæ™¯**: ç›´æ¥APIè°ƒç”¨

#### 2. å¢å¼ºå±‚ - `enhanced-fastgpt-client.ts`
- **èŒè´£**: å¢åŠ ç¼“å­˜ã€é‡è¯•ã€äº‹ä»¶æœºåˆ¶
- **ç‰¹æ€§**: ç»§æ‰¿åŸºç¡€å®¢æˆ·ç«¯ï¼Œæ‰©å±•åŠŸèƒ½
- **ä½¿ç”¨åœºæ™¯**: ç”Ÿäº§ç¯å¢ƒã€é«˜å¯ç”¨éœ€æ±‚

#### 3. é€‚é…å±‚ - `fastgpt-ag-ui-adapter.ts`
- **èŒè´£**: AG-UIåè®®è½¬æ¢
- **ç‰¹æ€§**: äº‹ä»¶æµè½¬æ¢ã€åè®®é€‚é…
- **ä½¿ç”¨åœºæ™¯**: AG-UIå‰ç«¯é›†æˆ

### ğŸš« **å·²æ¸…ç†çš„å†—ä½™æ–‡ä»¶**
- ~~`fastgpt.ts`~~ - åŠŸèƒ½é‡å¤ï¼Œå·²åˆ é™¤
- ~~`enhanced-api-client.ts`~~ - æ³›ç”¨æ€§è¿‡å¼ºï¼Œä¿ç•™ä½†é™åˆ¶ä½¿ç”¨åœºæ™¯

### ğŸ“‹ **ä½¿ç”¨æŒ‡å—**

```typescript
// âœ… åŸºç¡€ä½¿ç”¨
import fastGPTClient from '@/lib/api/fastgpt-client';
const response = await fastGPTClient.chatCompletions(params);

// âœ… å¢å¼ºåŠŸèƒ½
import enhancedClient from '@/lib/api/enhanced-fastgpt-client';
enhancedClient.on('retry', (info) => console.log('é‡è¯•:', info));
const cached = await enhancedClient.chatCompletionsWithCache(params, 'key');

// âœ… AG-UIé›†æˆ
import { FastGptAgUiAdapter } from '@/lib/api/fastgpt-ag-ui-adapter';
const adapter = new FastGptAgUiAdapter(threadId, runId);
```

### ğŸ”¥ **åè„†å¼±æ”¶ç›Š**
- **å†—ä½™æ¶ˆé™¤**: 7â†’3ä¸ªå®¢æˆ·ç«¯ï¼Œç»´æŠ¤æˆæœ¬é™ä½70%
- **èŒè´£æ¸…æ™°**: æ¯å±‚å•ä¸€èŒè´£ï¼Œæ‰©å±•æ€§æå‡
- **åè®®ç»Ÿä¸€**: å¼ºåˆ¶AG-UIåè®®è½¬æ¢ï¼Œé¿å…å‰åç«¯ä¸åŒ¹é…

### ğŸš¨ **ä½¿ç”¨çº¦æŸ**
1. **ç¦æ­¢**ç›´æ¥ä½¿ç”¨`enhanced-api-client.ts`è¿›è¡ŒFastGPTè°ƒç”¨
2. **å¿…é¡»**é€šè¿‡é€‚é…å™¨å±‚è¿›è¡ŒAG-UIåè®®è½¬æ¢
3. **ä¼˜å…ˆ**ä½¿ç”¨å¢å¼ºå®¢æˆ·ç«¯è€ŒéåŸºç¡€å®¢æˆ·ç«¯
