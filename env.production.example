# 生产环境配置文件示例
# AI Chat Interface - Production Environment Configuration

# 应用基础配置
NODE_ENV=production
NEXT_PUBLIC_APP_ENV=production
PORT=3000

# FastGPT API配置
# 注意：此处必须是服务根域名或根路径，不要包含 /api 或 /api/v1，代码内部会自动拼接。
# 正确示例：https://your-fastgpt-api.com
# 错误示例：https://your-fastgpt-api.com/api 或 https://your-fastgpt-api.com/api/v1
FASTGPT_API_URL=https://your-fastgpt-api.com
FASTGPT_API_KEY=your-production-fastgpt-api-key
FASTGPT_TIMEOUT=30000

# Redis配置（用于缓存和会话管理）
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-production-redis-password
REDIS_DB=0

# 数据库配置（如果需要）
DATABASE_URL=postgresql://username:password@localhost:5432/ai-chat-prod

# AG-UI性能优化配置
NEXT_PUBLIC_AG_UI_PERFORMANCE_ENABLED=true
NEXT_PUBLIC_AG_UI_METRICS_ENABLED=false
AG_UI_STREAM_BUFFER_SIZE=8192
AG_UI_CHUNK_DELAY=16
AG_UI_TYPEWRITER_SPEED=120
AG_UI_BATCH_SIZE=10
AG_UI_MAX_BUFFER=65536
AG_UI_DEBOUNCE_MS=5

# 管理员配置
NEXT_PUBLIC_ADMIN_ENABLED=true
ADMIN_SECRET_KEY=your-admin-secret-key
NEXT_PUBLIC_ADMIN_DASHBOARD_PATH=/admin/dashboard

# 安全配置
JWT_SECRET=your-jwt-secret-key-for-production
NEXT_PUBLIC_CSRF_TOKEN=your-csrf-token
ENCRYPTION_KEY=your-encryption-key-32-chars

# 监控配置
MONITORING_ENABLED=true
PERFORMANCE_LOGGING=true
ERROR_REPORTING_URL=https://your-error-reporting-service.com
METRICS_ENDPOINT=/api/ag-ui/performance

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=100
STATIC_CACHE_ENABLED=true

# 文件上传配置
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/tmp/uploads
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,md

# CAD分析配置
CAD_ANALYSIS_ENABLED=true
CAD_PARSER_TIMEOUT=60000
CAD_MAX_FILE_SIZE=52428800

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/ai-chat-interface.log

# 限流配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# CORS配置
CORS_ORIGIN=https://your-production-domain.com
CORS_CREDENTIALS=true

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# 性能阈值配置
PERF_LATENCY_WARNING_MS=100
PERF_LATENCY_CRITICAL_MS=200
PERF_ERROR_RATE_WARNING=0.01
PERF_ERROR_RATE_CRITICAL=0.05
PERF_MEMORY_WARNING_MB=50
PERF_MEMORY_CRITICAL_MB=100

# WebSocket配置（如果使用）
WS_ENABLED=false
WS_PORT=3001

# CDN配置
CDN_URL=https://your-cdn-domain.com
STATIC_ASSETS_URL=https://your-cdn-domain.com/static

# 备份配置
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000
BACKUP_RETENTION_DAYS=30 

# CAD Parsing
OCCT_IMPORT_ENABLED=false
ENABLE_SIMULATED_CAD_PARSERS=false
DWG_CONVERTER_URL=

# Upstash Redis (rate limiting / cache)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# External AI Provider (OpenAI兼容)
# 仅使用达摩盘 DashScope 的 Qwen 模型，OpenAI兼容端点如下：
# - Base URL: https://dashscope.aliyuncs.com/compatible-mode/v1
# - Models: qwen-plus-2025-01-12, qwen-max-latest
EXTERNAL_AI_API_KEY=your-dashscope-api-key
EXTERNAL_AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
# 强制AG-UI使用外部提供商（dashscope），绕过FastGPT
EXTERNAL_AI_FORCE_DASHSCOPE=true 