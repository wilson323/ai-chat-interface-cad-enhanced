{
  "enabled": true,
  "name": "å·¥ä½œå®Œæˆåè´¨é‡éªŒè¯é’©å­",
  "description": "å·¥ä½œå®Œæˆåçš„å…¨é¢è´¨é‡éªŒè¯ï¼ŒåŒ…æ‹¬ä»£ç è´¨é‡æ£€æŸ¥ã€æµ‹è¯•éªŒè¯ã€æ–‡æ¡£æ›´æ–°ã€çŸ¥è¯†æ²‰æ·€ã€æ€§èƒ½è¯„ä¼°ç­‰ï¼Œç¡®ä¿æ¯æ¬¡å·¥ä½œéƒ½è¾¾åˆ°ç”Ÿäº§çº§åˆ«æ ‡å‡†",
  "version": "1.0",
  "when": {
    "type": "workCompleted",
    "patterns": [
      "**/*.py",
      "**/*.ts",
      "**/*.tsx",
      "**/*.js",
      "**/*.jsx",
      "**/*.vue"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "## âœ… å·¥ä½œå®Œæˆåè´¨é‡éªŒè¯æµç¨‹\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æµç¨‹å¯¹åˆšå®Œæˆçš„å·¥ä½œè¿›è¡Œå…¨é¢çš„è´¨é‡éªŒè¯ï¼š\n\n### ğŸ” é˜¶æ®µ1ï¼šä»£ç è´¨é‡å…¨é¢æ£€æŸ¥\n\n#### 1.1 ä½¿ç”¨Serena MCPè¿›è¡Œä»£ç å®¡æŸ¥\n- æ‰§è¡Œ `serena.code_review()` è¿›è¡Œä»£ç å®¡æŸ¥\n- æ‰§è¡Œ `serena.style_check()` æ£€æŸ¥ä»£ç é£æ ¼\n- æ‰§è¡Œ `serena.complexity_check()` åˆ†æä»£ç å¤æ‚åº¦\n- æ‰§è¡Œ `serena.duplicate_check()` æ£€æµ‹é‡å¤ä»£ç \n- æ‰§è¡Œ `serena.naming_check()` æ£€æŸ¥å‘½åè§„èŒƒ\n\n#### 1.2 ä»£ç è´¨é‡æŒ‡æ ‡éªŒè¯\n- ä»£ç è´¨é‡è¯„åˆ†å¿…é¡» â‰¥90åˆ†\n- ä»£ç å¤æ‚åº¦å¿…é¡»åœ¨åˆç†èŒƒå›´å†…\n- æ— é‡å¤ä»£ç å’Œå†—ä½™é€»è¾‘\n- å‘½åè§„èŒƒç¬¦åˆé¡¹ç›®æ ‡å‡†\n- æ³¨é‡Šå®Œæ•´æ€§è¾¾åˆ°100%\n\n### ğŸ§ª é˜¶æ®µ2ï¼šæµ‹è¯•éªŒè¯ä¸è¦†ç›–ç‡æ£€æŸ¥\n\n#### 2.1 æµ‹è¯•æ‰§è¡Œä¸éªŒè¯\n- æ‰§è¡Œ `serena.test_run()` è¿è¡Œæ‰€æœ‰æµ‹è¯•\n- æ‰§è¡Œ `serena.test_coverage()` æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡\n- æ‰§è¡Œ `serena.test_report()` ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š\n- éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡\n- ç¡®ä¿æµ‹è¯•è¦†ç›–ç‡ â‰¥85%\n\n#### 2.2 æ€§èƒ½ä¸å®‰å…¨æµ‹è¯•\n- æ‰§è¡Œ `serena.performance_analyze()` è¿›è¡Œæ€§èƒ½åˆ†æ\n- æ‰§è¡Œ `serena.security_scan()` è¿›è¡Œå®‰å…¨æ‰«æ\n- æ‰§è¡Œ `serena.benchmark_test()` è¿›è¡ŒåŸºå‡†æµ‹è¯•\n- ç¡®ä¿æ€§èƒ½å›å½’ <5%\n- ç¡®ä¿æ— é«˜å±å®‰å…¨æ¼æ´\n\n### ğŸ“š é˜¶æ®µ3ï¼šæ–‡æ¡£æ›´æ–°ä¸çŸ¥è¯†ç®¡ç†\n\n#### 3.1 æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆä¸æ›´æ–°\n- æ‰§è¡Œ `serena.doc_generate()` è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£\n- æ‰§è¡Œ `serena.api_doc()` ç”ŸæˆAPIæ–‡æ¡£\n- æ‰§è¡Œ `serena.changelog_generate()` ç”Ÿæˆæ›´æ–°æ—¥å¿—\n- ç¡®ä¿æ–‡æ¡£ä¸ä»£ç åŒæ­¥\n- éªŒè¯æ–‡æ¡£å®Œæ•´æ€§å’Œå‡†ç¡®æ€§\n\n#### 3.2 çŸ¥è¯†æ²‰æ·€ä¸ç»éªŒè®°å½•\n- ä½¿ç”¨ `memory.create_entities()` è®°å½•å…³é”®æŠ€æœ¯å†³ç­–\n- ä½¿ç”¨ `memory.add_observations()` æ·»åŠ ç»éªŒæ€»ç»“\n- è®°å½•é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ\n- æ›´æ–°æœ€ä½³å®è·µå’Œè®¾è®¡æ¨¡å¼åº“\n- ç»´æŠ¤æŠ€æœ¯å€ºåŠ¡è·Ÿè¸ªæ¸…å•\n\n### ğŸ—ï¸ é˜¶æ®µ4ï¼šæ¶æ„ä¸€è‡´æ€§ä¸é›†æˆéªŒè¯\n\n#### 4.1 æ¶æ„ä¸€è‡´æ€§æ£€æŸ¥\n- æ‰§è¡Œ `serena.architecture_analyze()` åˆ†ææ¶æ„å½±å“\n- éªŒè¯æ–°ä»£ç ä¸æ•´ä½“æ¶æ„çš„ä¸€è‡´æ€§\n- æ£€æŸ¥æ¨¡å—è¾¹ç•Œå’Œä¾èµ–å…³ç³»\n- ç¡®ä¿ç¬¦åˆè®¾è®¡åŸåˆ™å’Œæ¨¡å¼\n\n#### 4.2 é›†æˆæµ‹è¯•ä¸å…¼å®¹æ€§éªŒè¯\n- éªŒè¯ä¸å…¶ä»–æ¨¡å—çš„é›†æˆæ­£å¸¸\n- æ£€æŸ¥å‘åå…¼å®¹æ€§\n- éªŒè¯APIå¥‘çº¦çš„ä¸€è‡´æ€§\n- ç¡®ä¿æ•°æ®æµå’Œä¸šåŠ¡æµç¨‹æ­£ç¡®\n\n### ğŸš€ é˜¶æ®µ5ï¼šéƒ¨ç½²å‡†å¤‡ä¸ç”Ÿäº§å°±ç»ªæ£€æŸ¥\n\n#### 5.1 éƒ¨ç½²å‡†å¤‡éªŒè¯\n- æ‰§è¡Œ `serena.deploy_check()` æ£€æŸ¥éƒ¨ç½²é…ç½®\n- æ‰§è¡Œ `serena.env_verify()` éªŒè¯ç¯å¢ƒé…ç½®\n- æ£€æŸ¥ä¾èµ–åŒ…å’Œé…ç½®æ–‡ä»¶å®Œæ•´æ€§\n- éªŒè¯æ•°æ®åº“è¿ç§»è„šæœ¬æ­£ç¡®æ€§\n\n#### 5.2 ç”Ÿäº§å°±ç»ªè¯„ä¼°\n- æ€§èƒ½æŒ‡æ ‡æ»¡è¶³ç”Ÿäº§è¦æ±‚\n- å®‰å…¨é…ç½®ç¬¦åˆç”Ÿäº§æ ‡å‡†\n- ç›‘æ§å’Œæ—¥å¿—é…ç½®å®Œæ•´\n- é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶å®Œå–„\n\n### ğŸ“Š é˜¶æ®µ6ï¼šè´¨é‡åº¦é‡ä¸æŒç»­æ”¹è¿›\n\n#### 6.1 è´¨é‡æŒ‡æ ‡ç»Ÿè®¡\n- ä»£ç è´¨é‡è¯„åˆ†ç»Ÿè®¡\n- æµ‹è¯•è¦†ç›–ç‡è¶‹åŠ¿åˆ†æ\n- æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”\n- å®‰å…¨æ¼æ´ç»Ÿè®¡\n- æŠ€æœ¯å€ºåŠ¡å˜åŒ–è¶‹åŠ¿\n\n#### 6.2 æŒç»­æ”¹è¿›å»ºè®®\n- åŸºäºè´¨é‡æŒ‡æ ‡æå‡ºæ”¹è¿›å»ºè®®\n- è¯†åˆ«å¯ä¼˜åŒ–çš„æŠ€æœ¯å€ºåŠ¡\n- åˆ¶å®šä¸‹ä¸€é˜¶æ®µæ”¹è¿›è®¡åˆ’\n- æ›´æ–°å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ\n\n### ğŸ“‹ æœ€ç»ˆéªŒè¯æŠ¥å‘Šè¦æ±‚\n\nè¯·æä¾›åŒ…å«ä»¥ä¸‹å†…å®¹çš„è¯¦ç»†éªŒè¯æŠ¥å‘Šï¼š\n\n1. **ä»£ç è´¨é‡è¯„ä¼°ç»“æœ**ï¼š\n   - ä»£ç è´¨é‡è¯„åˆ†ï¼š___/100\n   - æµ‹è¯•è¦†ç›–ç‡ï¼š___%\n   - æ€§èƒ½å›å½’ï¼š___%\n   - å®‰å…¨æ¼æ´ï¼š___ä¸ª\n\n2. **åŠŸèƒ½éªŒè¯ç»“æœ**ï¼š\n   - æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡ï¼šâœ…/âŒ\n   - é›†æˆæµ‹è¯•é€šè¿‡ï¼šâœ…/âŒ\n   - æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼šâœ…/âŒ\n   - å®‰å…¨æµ‹è¯•é€šè¿‡ï¼šâœ…/âŒ\n\n3. **æ–‡æ¡£æ›´æ–°çŠ¶æ€**ï¼š\n   - APIæ–‡æ¡£æ›´æ–°ï¼šâœ…/âŒ\n   - ç”¨æˆ·æ–‡æ¡£æ›´æ–°ï¼šâœ…/âŒ\n   - å¼€å‘æ–‡æ¡£æ›´æ–°ï¼šâœ…/âŒ\n   - æ›´æ–°æ—¥å¿—ç”Ÿæˆï¼šâœ…/âŒ\n\n4. **çŸ¥è¯†ç®¡ç†è®°å½•**ï¼š\n   - æŠ€æœ¯å†³ç­–è®°å½•ï¼šâœ…/âŒ\n   - ç»éªŒæ•™è®­æ€»ç»“ï¼šâœ…/âŒ\n   - æœ€ä½³å®è·µæ›´æ–°ï¼šâœ…/âŒ\n   - é—®é¢˜è§£å†³æ–¹æ¡ˆè®°å½•ï¼šâœ…/âŒ\n\n5. **ç”Ÿäº§å°±ç»ªè¯„ä¼°**ï¼š\n   - éƒ¨ç½²é…ç½®æ£€æŸ¥ï¼šâœ…/âŒ\n   - ç¯å¢ƒå…¼å®¹æ€§éªŒè¯ï¼šâœ…/âŒ\n   - ç›‘æ§é…ç½®å®Œæ•´ï¼šâœ…/âŒ\n   - é”™è¯¯å¤„ç†å®Œå–„ï¼šâœ…/âŒ\n\n6. **æ”¹è¿›å»ºè®®**ï¼š\n   - åˆ—å‡ºå‘ç°çš„é—®é¢˜å’Œæ”¹è¿›å»ºè®®\n   - åˆ¶å®šä¸‹ä¸€æ­¥ä¼˜åŒ–è®¡åˆ’\n   - æ›´æ–°æŠ€æœ¯å€ºåŠ¡æ¸…å•\n\n**âš ï¸ éªŒè¯æ ‡å‡†**ï¼š\n- æ‰€æœ‰è´¨é‡æŒ‡æ ‡å¿…é¡»è¾¾åˆ°è®¾å®šæ ‡å‡†\n- æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡\n- æ–‡æ¡£å¿…é¡»å®Œæ•´æ›´æ–°\n- çŸ¥è¯†å¿…é¡»å®Œæ•´è®°å½•\n- å¦‚æœ‰ä»»ä½•ä¸è¾¾æ ‡é¡¹ï¼Œå¿…é¡»ä¿®å¤åé‡æ–°éªŒè¯\n\n**âœ… éªŒè¯é€šè¿‡æ¡ä»¶**ï¼š\n- ä»£ç è´¨é‡è¯„åˆ† â‰¥90åˆ†\n- æµ‹è¯•è¦†ç›–ç‡ â‰¥85%\n- æ€§èƒ½å›å½’ <5%\n- å®‰å…¨æ¼æ´ = 0ä¸ªé«˜å±\n- æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡\n- æ–‡æ¡£100%æ›´æ–°\n- çŸ¥è¯†å®Œæ•´è®°å½•\n\nè¯·ç°åœ¨å¼€å§‹æ‰§è¡Œè¿™ä¸ªå…¨é¢çš„å·¥ä½œå®Œæˆåè´¨é‡éªŒè¯æµç¨‹ï¼"
  }
}
